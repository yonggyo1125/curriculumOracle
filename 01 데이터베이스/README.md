# 데이터베이스 

## 데이터와 데이터베이스, DBMS

- 데이터베이스는 데이터(data)와 베이스(base)의 합성어이며 DBMS는 Database ManagementSystem의 약자로 '데이터베이스 관리 시스템'을 의미합니다. 그러면 이들 용어의 의미를 살펴보겠습니다.

### 데이터와 정보

- <code>데이터</code>는 어떤 필요에 의해 수집했지만 **아직 특정 목적을 위해 평가하거나 정제하지 않은 값이나 사실 또는 자료 자체**를 의미합니다. 
- <code>정보</code>는 **수집한 데이터를 어떠한 목적을 위해 분석하거나 가공하여 가치를 추가하거나 새로운 의미를 이끌어 낼 수 있는 결과**로 볼 수 있습니다.
- 잘 수집된 데이터를 분석하고 가공하면 새로운 가치를 만들어 낼 수 있는 정보를 얻을 수 있다' 정도로만 기억해 두세요.


### 효율적인 데이터 관리를 위한 조건
- 데이터를 통합하여 관리
- 일관된 방법으로 관리
- 데이터 누락 및 중복 제거
- 여러 사용자(응용 프로그램 포함)가 공동으로 실시간 사용 가능

- 위 조건을 만족하면서 특정 목적을 위해 여러 사람이 공유하여 사용할 수 있으며, 효율적인관리와 검색을 위해 구조화한 데이터 집합을 <code>데이터베이스</code>라고 합니다.

![image1](https://raw.githubusercontent.com/yonggyo1125/curriculumOracle/master/01%20%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4/images/1.png)


### 파일 시스템과 DBMS

- 데이터베이스 개념이 등장하기 전에는 주로 파일 시스템 방식을 사용하여 데이터를 관리하였습니다. 그러면 지금부터 파일 시스템에서 데이터 관리 방식을 먼저 살펴보고 이어서 데이터베이스 개념을 활용한 DBMS 데이터 관리 방식을 비교하여 살펴보겠습니다.

#### 파일 시스템을 통한 데이터 관리

- 파일 시스템은 서로 다른 여러 응용 프로그램이 제공하는 기능에 맞게 필요한 데이터를 각각 저장하고 관리합니다. 따라서 각 파일에 저장한 데이터는서로 연관이 없고 중복 또는 누락이 발생할 수 있습니다.

![image2](https://raw.githubusercontent.com/yonggyo1125/curriculumOracle/master/01%20%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4/images/2.png)

- 다음 예를 통해 파일 시스템 방식으로 여러 응용 프로그램들이 각자 데이터를 관리하면 어떤 문제점이 발생하는지 살펴보겠습니다. 어떤 대학에 학사 프로그램과 장학금 신청 프로그램이 있다고 가정해 보죠. 이 두 프로그램은 학생의 졸업 여부에 관련된 데이터를 각 파일에 저장하고 있습니다. 만약 이수선 학생이 학사 프로그램에는 졸업생으로 등록되어 있지만 장학금 신청 프로그램에서는 졸업했다는 내용이 누락되어 있다면, 실제로는 졸업생으로 분류된 학생도 장학금을 신청할 수 있는 상황이 발생할 수 있습니다.

- 학사 프로그램
![image3](https://raw.githubusercontent.com/yonggyo1125/curriculumOracle/master/01%20%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4/images/3.png)


- 장학금 신청 프로그램
  ![image4](https://raw.githubusercontent.com/yonggyo1125/curriculumOracle/master/01%20%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4/images/4.png)



> 장학금 신청 프로그램에 졸업 정보가 누락된 경우

- 이러한 현상은 학생의 재학 상태를 관리하는 데이터가 각 응용 프로그램별로 흩어져 있기 때문에 발생합니다. 따라서 오른쪽 그림과 같이 학생과 관련된 일련의 데이터를 한곳에 모아 관리하고, 이렇게 한곳에 모아둔 데이터를 각각의 응용프로그램이 함께 사용하면 응용 프로그램별로 데이터를 직접 관리할 때 발생할 수 있는 데이터의 오류, 누락, 중복 등의 문제를 해결할 수 있습니다. 이렇게 여러 응용 프로그램이 사용할 데이터를 한곳에서 관리하기 위해 <code>데이터베이스</code>를 활용합니다.

![image5](https://raw.githubusercontent.com/yonggyo1125/curriculumOracle/master/01%20%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4/images/5.png)

### DBMS를 통한 데이터 관리

- 효율적인 데이터 관리 조건을 만족하며 서비스 제공의 효율성을 높이기 위해 <code>데이터베이스 관리 시스템</code>이 등장했습니다. 데이터베이스 관리 시스템은 데이터베이스의 데이터 조작과 관리를 극대화한 시스템 소프트웨어입니다.
- 데이터베이스 관리 시스템은 보통 <code>디비엠에스</code>(DBMS: DataBase Management System)라고 많이 부르며, 실무에서는 데이터베이스와 데이터베이스 관리 시스템을 따로 구별하지 않고 <code>디비(DB)</code> 또는 <code>데이터베이스</code>라고 부릅니다.
- 데이터베이스를 통한 데이터 관리란 여러 목적으로 사용할 데이터의 접근·관리 등의 업무를 DBMS가 전담하는 방식을 말합니다. 다시 말해 응용 프로그램이 필요한 데이터 작업을 DBMS에 요청하면, DBMS는 자신이 관리하는 데이터베이스로 관련 작업을 수행하고 결과값을 제공합니다.

![image6](https://raw.githubusercontent.com/yonggyo1125/curriculumOracle/master/01%20%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4/images/6.png)

- 이러한 작업 영역의 분리는 응용 프로그램의 서비스 제공과 데이터 관련 작업 효율을 높입니다. 또한 여러 응용 프로그램이 하나의 통합된 데이터를 같은 방식으로 사용. 관리할 수 있을므로 데이터 누락이나 중복을 방지할 수 있습니다.
- DBMS는 다음 표와 같이 파일 시스템 기반 방식의 문제를 해결하면서 데이터 관리의 패러다임을 바꾸었습니다.

|파일 시스템 방식의 문제|DBMS를 통한 데이터 관리|
|---|---|
|데이터 중복|하나의 소프트웨어가 데이터를 관리하므로 데이터 중복을 피할 수 있음|
|응용 프로그램이 개별 데이터를 직접 관리|여러 응용 프로그램이 하나의 DBMS를 통해 데이터를 사용하므로 데이터를 동시에 공유할 수 있음|
|응용 프로그램이 데이터를 쓰는 방식이 각각 다름|하나의 DBMS를 통해 데이터를 관리하기 때문에 각각의 응용 프로그램이 데이터를 관리하는 방식이 통합됨|
|데이터가 특정 응용 프로그램에 종속되어 있으므로 응용 프로그램을 변경하면 기존 데이터를 사용할 수 없음|응용 프로그램과는 별도로 데이터가 DBMS에 의해 관리: 보관되기 때문에 응용 프로그램의 업데이트 또는 변경과 관계없이 데이터를 사용할 수 있음|

> 데이터베이스 용어의 등장과 최초의 DBMS 
> 
> 데이터베이스라는 용어는 1963년 SDC(System Development Corporation)에서 개최한 'Development and Management of Computer-Center DataBases' 심포지엄 제목에서 처음 사용되었습니다. 최초의 DBMS는 제너럴 일렉트릭(GE: General Electric) 사의 찰스 바흐만(Charles Bachman)이 1963년에 만든 IDS(Integrated Data Store)로서 데이터베이스 개념을 확립한 소프트웨어라고 할 수 있습니다. 

---

## 데이터 모델 

- 데이터 모델이란 컴퓨터에 **데이터를 저장하는 방식을 정의**해 놓은 개념 모형입니다. 
- 대표 데이터 모델에는 <code>계층형</code>, <code>네트워크형</code>, <code>관계형</code>, <code>객체 지향형</code> 등이 있습니다.

### 계층형 데이터 모델과 네트워크형 데이터 모델

> 계층형 데이터 모델(hierarchical data model)과 네트워크형 데이터 모델(network data model)은 1960년대 말부터 1980년대 말까지 상업용 데이터베이스 시장에서 많이 사용한 데이터 모델입니다.

#### 계층형 데이터 모델

- 계층형 데이터 모델은 나뭇가지 형태의 트리(tree) 구조를 활용하여 데이터 관련성을 계층별로 나누어 부모 자식 같은 관계를 정의하고 데이터를 관리합니다. 계층형 데이터 모델을 이해하기 위해서는 <code>일대다(1:N) 관계의 데이터 구조</code>를 파악해야 합니다
- 이 모델에서 데이터가 저장된 파일은 다음 그림과 같이 상위 개념에 하위 개념이 포함되어 있는 특징이 있습니다. 기본적으로 하나의 부모 개체가 여러 자식을 가질 수 있는 반면에 자식 개체는 여러 부모 개체를 가질 수 없다는 제약이 있습니다. 따라서 일대다 구조의 데이터를 표현하기에는 알맞지만 자식 개체가 여러 부모를 가진 관계는 표현할 수 없습니다.

![image7](https://raw.githubusercontent.com/yonggyo1125/curriculumOracle/master/01%20%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4/images/7.png)

#### 네트워크형 데이터 모델

- 네트워크형 데이터 모델은 <code>망형 데이터 모델</code>이라고도 하며 <code>그래프(graph) 구조</code>를 기반으로 합니다. 다시 말해 개체 간 관계를 그래프 구조로 연결하므로 **자식 개체가 여러 부모 개체를 가질 수 있다는 점**에서 계층형 데이터 모델과 차이가 있습니다.

![image8](https://raw.githubusercontent.com/yonggyo1125/curriculumOracle/master/01%20%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4/images/8.png)

### 객체 지향형 데이터 모델

- 객체 지향형 데이터 모델(object-oriented data model)은 1980년대 후반에 등장한 모델로 객체 지향 프로그래밍에서 사용하는 객체 개념을 기반으로 한 데이터 모델입니다. 그리고 객체 지향 프로그래밍처럼 데이터를 독립된 객체로 구성하고 관리하며 상속, 오버라이드 등 객체 지향 프로그래밍에 사용되는 강력한 기능을 활용할 수 있습니다.

- 하지만 이러한 객체 지향형 모델 개념을 완전히 데이터베이스에 적용하는 것은 쉽지 않기 때문에 이를 적용한 상용 DBMS는 많지 않습니다. 다만 오라클 데이터베이스와 같은 여러 DBMS 제품군이 바로 뒤에 설명할 <code>관계형 데이터 모델</code>을 바탕으로 객체 개념을 도입하여 <code>객체 관계형(object-relational data model) DBMS</code>로 영역을 확장하고 있습니다.

> 객체 지향 프로그래밍은 컴퓨터 프로그램을 하나의 독립된 '객체'로 바라보는 관점의 프로그래밍 기법입니다. 자바, C++, 파이썬 등 최근에 많이 사용하는 여러 프로그래밍 언어가 객체 지향 프로그래밍을 지원합니다.

![image9](https://raw.githubusercontent.com/yonggyo1125/curriculumOracle/master/01%20%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4/images/9.png)

### 관계형 데이터 모델

- <code>관계형 데이터 모델(relational data model)</code>은 1970년 에드거 프랭크 커드(E. F. Codd)가 제안한모델로서 현대에 가장 많이 사용하는 관계형 데이터베이스의 바탕이 되는 모델입니다. 
- 관계형 데이터 모델은 다른 모델과 달리 데이터 간 관계(relationship)에 초점을 둡니다.
- 예를 들어 회사의 사원 정보와 사원이 소속된 부서 정보를 데이터로 관리하는 경우를 생각해보죠. 사원 정보와 부서 정보를 하나의 묶음으로 관리하면 데이터 구조가 간단해집니다. 하지만 같은 부서 사원들은 부서 정보가 중복되므로 효율적인 관리가 어려워집니다. 왜냐하면 부서 이름이 바뀌면 해당 부서 사원들의 부서 정보를 일일이 찾아서 모두 변경해 주어야 하기 때문이죠.

![image10](https://raw.githubusercontent.com/yonggyo1125/curriculumOracle/master/01%20%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4/images/10.png)

- 따라서 관계형 데이터 모델에서는 각 데이터의 독립 특성만을 규정하여 데이터 묶음을 나눔니다. 그리고 다음 그림과 같이 중복이 발생할 수 있는 데이터(여기에서는 부서 정보)는 별개의 릴레이션(relation)으로 정의한 후 사원 정보에 소속된 부서를 식별하는 '부서 코드'를 포함하여사원 정보 데이터와 부서 정보 데이터를 연결하는 것이죠.

> 데이터 묶음은 개체 집합(entity set)을 의미하며 관계형 데이터베이스에서 테이블(table), 릴레이션(relation)으로 표기합니다. 데이터 묶음 간의 관계는 관계(relationship)라고 합니다.

![image11](https://raw.githubusercontent.com/yonggyo1125/curriculumOracle/master/01%20%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4/images/11.png)

- 관계형 데이터 모델에서는 이렇게 데이터를 일정 기준으로 나누어 관리합니다. 이를 위하여 다양한 개념과 여러 구성 요소가 존재합니다. 다음은 관계형 데이터 모델의 핵심 구성 요소 간단히 표로 정리한 내용입니다.

|이름|설명|
|---|----|
|개체(entity)|데이터베이스에서 데이터화 하려는 사물, 개념의 정보 단위입니다. 관계형 데이터베이스의 테이블(table) 개념과 대응되며 테이블은 릴레이션(relation)으로 표기하기도 합니다.|
|속성(attribute)|개체를 구성하는 데이터의 가장 작은 논리적 단위로서 데이터의 종류,특성,상태 등을 정의합니다. 관계형 데이터베이스의 열(column) 개념과 대응됩니다.|
|관계(relationship)|개체와 개체 또는 속성 간의 연관성을 나타내기 위해 사용합니다. 관계형 데이터베이스에서는 테이블 간의 관계를 외래키(foreign key) 등으로 구현하여 사용합니다.|

- 이 핵심 구성 요소를 활용하여 <code>데이터의 독립성(independency)</code>과 <code>무결성(integrity)</code>과 같은 데이터를 안전하게 관리하기 위해 필요한 개념들을 정의하게 됩니다.

---

## 관계형 데이터베이스와 SQL

### 관계형 데이터베이스란? 

- 관계형 데이터 모델 개념을 바탕으로 데이터를 저장,관리하는 데이터베이스를 의미합니다. 
- 관계형 데이터베이스를 관리하는 시스템은 DBMS에 데이터 간의 관계를 강조하기 위한 <code>relational</code>을 앞에 붙여 <code>RDBMS(Relational Database Management System)</code>, 즉 <code>관계형 데이터베이스 관리 시스템</code>이라고 부릅니다. 
- RDBMS는 1980년 후반부터 지금까지 가장 많이 사용하는 데이터베이스입니다.

> 오라클 데이터베이스는 보통 관계형 데이터베이스라고 부르지만 더 정확하게 표현한다면 관계형 데이터베이스에 객체 개념을 도입한 <code>객체 관계형 데이터베이스</code>라고 부르는 것이 맞습니다.

### SQL이란?
- SQL은 Structured Query Language의 약자로서 <code>에스큐엘</code> 또는 <code>시퀄</code>이라고 부릅니다. 
- SQL은 RDBMS에서 데이터를 다루고 관리하는 데 사용하는 데이터베이스 질의 언어 입니다.
- 즉 SQL을 사용해야만 데이터베이스에서 여러 데이터 관련 작업을 수행할 수 있습니다. 
- SQL은 사용 목적에 따라서 다음과 같이 나뉩니다.

|종류|설명|
|---|----|
|DQL(Data Query Language)|RDBMS에 저장한 데이터를 원하는 방식으로 조회하는 명령어|
|DML(Data Manipulation Language)|RDBMS 내 테이블의 데이터를 저장, 수정, 삭제하는 명령어|
|DDL(Data Definition Language)|RDBMS 내 데이터 관리를 위해 테이블을 포함한 여러 객체를 생성,수정,삭제하는 명령어|
|TCL(Transaction Control Language)|트랜잭션 데이터의 영구 저장, 취소 등과 관련된 명령어|
|DCL(Data Control Language)|데이터 사용 권한과 관련된 명령어|

> SQL은 1970년대 IBM에서 도널드 D. 챔벌린과 레이먼드 F. 보이스가 SEQUEL(Structured English Query Language)이라는 이름으로 개발한 DBMS 관리 언어입니다. System R이라는 준관계형 데이터베이스 프로젝트에서 데이터 관리 목적으로 제작하였는데 SEQUEL이 그 당시 영국의 항공기 업체 호커시들리에서 상표로 등록한 단어였기 때문에 상표권 위반으로 현재의 SQL로 이름을 바꾸게 되었습니다.
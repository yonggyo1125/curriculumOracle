# 관계형 데이터베이스의 구성 요소

## 테이블 
- 관계형 데이터베이스는 기본적으로 데이터를 2차원 표 형태로 저장하고 관리합니다. 
- 이 표형태의 데이터 저장 공간을 테이블(table)이라고 합니다.
- 테이블은 2차원 형태이므로 가로줄과 세로줄로 구성되는데, 이때 가로줄을 행(row), 세로줄을 열(column)이라고 부릅니다.

- <code>행</code> : 저장하려는 하나의 객체를 구성하는 여러 값을 가로로 늘어뜨린 형태입니다. 
- <code>열</code> : 저장하려는 데이터를 대표하는 이름과 공통 특성을 정의합니다.

> 관계형 데이터베이스와 테이블
>
> 관계형 데이터베이스에서 관계란 행과 열의 특성에 맞추어 데이터를 저장한 테이블 하나하나를 의미합니다. 여러 테이블의 구성과 관계를 잘 규정하고 관리하는 것이 관계형 데이터베이스에서 데이터를 관리하는 핵심입니다.<br>
> 관계형 데이터베이스에서 테이블은 관계(relation), 행은 튜플(tuple) 또는 레코드(record) 그리고 열은 속성을 의미하는 애트리뷰트(attribute) 또는 필드(field)라고 합니다.

## 특별한 의미를 지닌 열, 키 
- 수많은 데이터를 구분할 수 있는 유일한 값
- 키는 하나의 테이블을 구성하는 여러 열 중에서 특별한 의미를 지닌 하나 또는 여러 열의 조합을 의미

### 기본키 
- 기본키(PK: Primary Key)는 여러 키 중에서 가장 중요한 키로서 한 테이블 내에서 중복되지 않는 값만 가질 수 있는 키입니다.
- 기본키의 속성
    - 테이블에 저장된 행을 식별할 수 있는 유일한 값이어야 한다.
    - 값의 중복이 없어야 한다.
    - NULL 값을 가질 수 없다.

- 기본키는 중복되지 않는 유일한 값이라는 특성을 가졌기 때문에 하나 또는 여러 열의 조합으로 만들 수 있습니다.

![image1](https://raw.githubusercontent.com/yonggyo1125/curriculumOracle/master/02%20%EA%B4%80%EA%B3%84%ED%98%95%20%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4%EC%99%80%20%EC%98%A4%EB%9D%BC%ED%81%B4%20%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4/images/1.png)

### 보조키 
- 보조키는 대체키(alternate key)라고 부르며 후보키(candidate key)에 속해 있는 키입니다.
- 후보키 중에서 기본키로 지정되지 않은 열입니다.

> 엄밀한 의미의 후보키는 기본키가 될 수 있는 모든 키를 의미합니다. 즉 기본키 역시 후보키에 속합니다. 이 후보키 중 기본키로 지정되지 않은 키를 보조키 또는 대체키라고 합니다. 그 밖에 행 식별이 가능한 키의 모든 조합을 의미하는 슈퍼키(super key)의 개념도 존재합니다.

![image2](https://raw.githubusercontent.com/yonggyo1125/curriculumOracle/master/02%20%EA%B4%80%EA%B3%84%ED%98%95%20%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4%EC%99%80%20%EC%98%A4%EB%9D%BC%ED%81%B4%20%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4/images/2.png)

### 외래키 
- 외래키(FK: Foreign Key)는 특정 테이블에 포함되어 있으면서 다른 테이블의 기본키로 지정된 키를 의미합니다.

![image3](https://raw.githubusercontent.com/yonggyo1125/curriculumOracle/master/02%20%EA%B4%80%EA%B3%84%ED%98%95%20%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4%EC%99%80%20%EC%98%A4%EB%9D%BC%ED%81%B4%20%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4/images/3.png)

> 외래키는 데이터 중복을 피하기 위해 테이블 사이의 관계를 규명하기 위한 필수 요소 입니다. 하지만 실무에서 데이터베이스를 활용하여 응용 프로그램을 만들 때 데이터의 구조 및 설계가 외래키를 사용해 너무 엄격하게 정의하면 응용 프로그램의 제작과 테스트 진행에 걸림돌이 되기도 합니다.<br>
> 따라서 테이블 사이의 관계에서 개념적으로 외래키가 필수인 상황일지라도 응용 프로그램 제작의 효율 및 편의를 위해 외래키를 따로 정의하지 않고, 테이블 사이의 관계를 '느슨하게' 설계하여 이를 응용 프로그램 영역에서 처리하는 경우도 종종 발생합니다.

### 복합키

- 복합키(composite key)는 여러 열을 조합하여 기본키 역할을 할 수 있게 만든 키를 뜻합니다.
- 복합키를 만들 때 적게는 두세 개, 많게는 열 개가 넘는 열을 조합하기도 합니다. 왜냐하면 하나의 열만으로 행을 식별하는 것이 불가능하여 두 개 이상의 열 값을 함께 사용해야 각 행이 유일한 데이터로서 가치를 지니기 떄문

![image4](https://raw.githubusercontent.com/yonggyo1125/curriculumOracle/master/02%20%EA%B4%80%EA%B3%84%ED%98%95%20%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4%EC%99%80%20%EC%98%A4%EB%9D%BC%ED%81%B4%20%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4/images/4.png)

---

# 오라클 데이터베이스

## 자료형 
- 데이터베이스에 저장하는 데이터는 다양한 형태를 가지고 있습니다. 숫자만으로 표현 가능한 데이터도 있고 여러 가지 문자를 포함한 데이터도 있습니다. 이렇게 데이터가 어떤 형태의 데이터인지를 말할 때 IT 분야에서는 보통 <code>자료형(data type)</code>이라는 용어를 사용합니다. 

|자료형|설명|
|---|----|
|VARCHAR2(길이)|4000byte만큼의 가변 길이 문자열 데이터를 저장할 수 있습니다(최소 크기는 1byte).|
|NUMBER(전체 자리수, 소수점 이하 자리수)|± 38자릿수의 숫자를 저장할 수 있습니다.<br>NUMBER(p,s)와 같이 표기할 경우 s자리 만큼 소수점 이하 자릿수를 표현하고, 이 소수점 자리를 포함한 전체 p자리 만큼 숫자 데이터를 저장합니다.|
|DATE|날짜 형식을 저장하기 위해 사용하는 자료형으로 세기, 연, 월, 일, 시, 분, 초 저장이 가능합니다.|
|CHAR(길이)|4000byte만큼의 고정 길이 문자열 데이터를 저장할 수 있습니다(최소 크기는 1byte).|
|NVARCHAR2(길이)|4000byte만큼의 가변 길이 국가별 문자 세트 데이터를 저장할 수 있습니다(최소 크기는 1byte).|
|BLOB|최대 크기 4GB의 대용량 이진 데이터를 저장할 수 있습니다.|
|CLOB|최대 크기 4GB의 대용량 텍스트 데이터를 저장할 수 있습니다.|
|BFILE|최대 크기 4GB의 대용량 이진 데이터 파일을 저장할 수 있습니다.|

- 자료형은 테이블을 구성하는 열에 지정합니다. 예를 들어 NUMBER(4)로 지정한 열이 있다면 네 자리 숫자만 저장할 수 있습니다. 이 열에는 문자열을 저장할 수 없고 다섯 자리 숫자를 저장할 수도 없습니다.
- 이렇게 하나의 자료형에 맞춰 한 종류의 데이터를 저장할 수 있는 자료형을 스칼라(scalar)형이라고 합니다. 
- 가장 많이 사용하는 자료형은 VARCHAR2, NUMBER, DATE 입니다.

## 객체
- 객체는 오라클 데이터베이스 내에서 데이터를 저장하고 관리하기 위한 논리 구조를 가진 구성 요소입니다.

|객체|설명|
|---|----|
|테이블(table)|데이터를 저장하는 장소|
|인덱스(index)|테이블의 검색 효율을 높이기 위해 사용함|
|뷰(view)|하나 또는 여러 개의 선별된 데이터를 논리적으로 연결하여 하나의 테이블처럼 사용하게 해 줌|
|시퀀스(sequence)|일련 번호를 생성해 줌|
|시노님(synonym)|오라클 객체의 별칭(다른 이름)을 지정함|
|프로시저(procedure)|프로그래밍 연산 및 기능 수행이 가능함(반환 값 없음)|
|함수(function)|프로그래밍 연산 및 기능 수행이 가능함(반환 값 있음)|
|패키지(package)|관련 있는 프로시저와 함수를 보관함|
|트리거(trigger)|데이터 관련 작업의 연결 및 방지 관련 기능을 제공함|

## PL/SQL
- 오라클 데이터베이스를 포함한 여러 관계형 데이터베이스에서 데이터를 관리하기 위해 복잡한 기능이 필요할 때 기존 SQL만으로 이를 구현하는 것은 다소 한계가 있습니다. 그래서 오라클 데이터베이스는 데이터를 관리를 위해 별도의 프로그래밍 언어를 제공하는데 이를 PL/SQL(Procedural Language extension to SQL)이라고 합니다.
- 보통 오라클 데이터베이스 프로그래밍이라고 하면 SQL문과 PL/SQL을 사용하여 프로그램울 제작하는 것을 의미합니다. PL/SQL을 사용하면 변수, 조건문, 반복문 등 프로그래밍 언어에서 제공하는 요소를 사용하여 데이터를 관리할 수 있습니다. 따라서 SQL문만 사용하는 것보다 강력한 데이터 관리 기능을 구현할 수 있습니다.
## 04-1 실습용 테이블 살펴보기
### EMP 테이블
- 사원정보가 들어 있는 테이블
- 테이블 구성 

```
DESC EMP;
```

|열 이름|열 의미|테이터 종류|설명|
|----|----|-----|-----|
|EMPNO|사원번호|네 자리 숫자|EMP 테이블에서 각 사원의 데이터를 구분할 수 있는 유일한 값을 저장하는 열이며 기본키로 사용 합니다.|
|ENAME|사원 이름|10byte 크기의 가변형 문자열|SCOTT, JONES 등|
|JOB|사원 직책|9byte 크기의 가변형 문자열|MANAGER, CLERK 등|
|MGR|직속 상관의 사원번호|네 자리 숫자|MGR는 manager의 약어로 현재 행에 해당하는 사원의 상급자의 네 자리 사원 번호를 저장하는 열입니다.|
|HIREDATE|입사일|날짜 데이터|HIREDATE는 입사일을 나타내는 날짜 데이터 입니다.|
|SAL|급여|두 자리 소수점을 포함하는 일곱자리 숫자|800,1600,5000 등|
|COMM|급여 외 추가 수당|두 자리 소수점을 포함하는 일곱자리 숫자|COMM은 commission의 약어로 월 급여 외 추가 수당을 의미합니다.|
|DEPTNO|사원이 속한 부서 번호|두 자리 숫자|DEPTNO는 department, number의 약어이며 사원이 속해 있는 부서의 고유번호를 의미합니다.|

### DEPT 테이블 
- 회사 부서 정보가 들어 있는 테이블
- 테이블 구성

```
DESC DEPT;
```

|열 이름|열 의미|데이터 종류|
|----|----|-----|
|DEPTNO|부서 번호|두 자리 숫자, 기본키|
|DNAME|부서 이름|14byte 크기의 가변형 문자열|
|LOC|부서가 위치한 지역|13byte 크기의 가변형 문자열|

### SALGRADE 테이블
- 사원들의 급여 정보가 들어 있는 테이블

|열 이름|열 의미|데이터 종류|
|----|----|-----|
|GRADE|급여 등급|숫자|
|LOSAL|급여 등급의 최소 급여액|숫자|
|HISAL|급여 등급의 최대 급여액|숫자|

## 04-02 데이터를 조회하는 3가지 방법

- <b>셀렉션</b> : 행 단위로 원하는 데이터를 조회하는 방식
- <b>프로젝션</b> : 열 단위로 원하는 데이터를 조회하는 방식
- 특정 테이블에서 조회하려는 행과 열을 모두 선별할 때 셀렉션과 프로젝션을 함께 사용할 수 있습니다.
- <b>조인</b>
	- 두 개 이상의 테이블을 양옆에 연결하여 마치 하나의 테이블인 것처럼 데이터를 조회하는 방식
	- 기본키와 외래키를 이용 

## SQL의 기본 뼈대, SELECT절과 FROM 절

- SELECT문은 데이터베이스에 보관되어 있는 데이터를 조회하는 데 사용

```
SELECT [조회할 열1 이름], [열2 이름], .... [열N 이름] (1)
FROM [조회할 테이블 이름]; (2)
```

|번호|키워드|필수 요소|선택요소|설명|
|----|-----|------|----|--------|
|(1)|SELECT|조회할 열 이름 또는 출력할 데이터를 하나 이상 지정 또는 애스터리스크(\*)로 전체 열을 지정||SELECT절, 조회할 열을 지정함|
|(2)|FROM|조회할 테이블 이름||FROM절, 조회할 테이블을 지정함|

### 실습
- \*로 테이블 전체 열 출력하기

```
SELECT * FROM EMP;
```

- 테이블 부분 열 출력하기

```
SELECT EMPNO, ENAME, DEPTNO FROM EMP;
```

## 04-4 중복 데이터를 삭제하는 DISTINCT

- SELECT문으로 데이터를 조회한 후 DISTICT를 사용하여 중복을 제거합니다. 
- DISTINCT는 SELECT절에 열 이름을 명시하기 전에 선택적으로 사용할 수 있습니다.

### 실습

- DISTICT로 열 중복 제거하기(열이 한 개인 경우)

```
SELECT DISTINCT DEPTNO FROM EMP;
```

- DISTINCT로 열 중복 제거하기(열이 여러 개인 경우)

```
SELECT DISTINCT JOB, DEPTNO FROM EMP;
```

- ALL로 중복되는 열 제거 없이 그대로 출력하기

|ALL은 DISTINCT와 반대로 데이터 중복을 제거하지 않고 그대로 출력합니다.<br>SELECT절에서 중복 설정이 없을 경우에 ALL을 기본으로 사용

```
SELECT ALL JOB, DEPTNO FROM EMP;
```

## 04-5 한눈에 보기 좋게 별칭 설정하기

- SQL문에서는 최종 출력되는 열 이름을 임의로 지정할 수도 있습니다. 이렇게 본래 열 이름 대신 붙이는 이름을 별칭(alias)이라고 합니다.

## 실습1

- 열에 연산식을 사용하여 출력하기

```
SELECT ENAME, SAL, SAL*12+COMM, COMM FROM EMP;
```

- 곱하기를 사용하지 않고 사원의 연간 총 수입 출력하기

```
SELECT ENAME, SAL, SAL+SAL+SAL+SAL+SAL+SAL+SAL+SAL+SAL+SAL+SAL+SAL+COM, COMM FROM EMP;
```

- 위 결과를 출력하는 열 이름은 연산식이 그대로 나오므로 매우 길다. 이렇듯 긴 열 이름을 '짧고 간단한 다른 이름'으로 알기 쉽게 출력할 때 별칭을 사용한다.

### 별칭을 지정하는 방식

|사용 방법|설명|
|----|------|
|SAL\*12+COMM ANNSAL|연산 및 가공된 문장 이후 한 칸 띄우고 별칭 지정|
|SAL\*12+COMM "ANNSAL"|연산 및 가공된 문장 이후 한 칸 띄우고 별칭을 큰따옴표(" ")로 묶어 지정|
|SAL\*12+COMM AS ANNSAL|연산 및 가공된 문장 이후 한 칸 띄운 후 'AS', 한 칸 뒤에 별칭 지정|
|SAL\*12+COMM AS "ANNSAL"|연산 및 가공된 문장 이후 한 칸 띄운 후 'AS', 한 칸 뒤에 별칭을 큰 따옴표(" ")로 묶어 지정|

### 실습2

- 별칭을 사용하여 사원의 연간 총 수입 출력하기

```
SELECT ENAME, SAL, SAL*12+COMM AS ANNSAL, COMM FROM EMP;
```

## 원하는 순서로 출력 데이터를 정렬하는 ORDER BY

- SELECT문을 사용하여 데이터를 조회할 때 시간이나 이름 순서 또는 어떤 다른 기준으로 데이터를 정렬해야 하는 경우가 생기는데 이때 데이터를 정렬된 상태로 출력하기 위해 ORDER BY절을 사용합니다. 
- ORDER BY절은 SELECT문을 작성할 때 사용할 수 있는 여러 절 중 가장 마지막 부분에 씁니다.

```
SELECT [조회할 열1 이름], [열2 이름], ..., [열N 이름]
FROM [조회할 테이블 이름]
... (그 밖의 절)
ORDER BY [정렬하려는 열 이름(여러열 지정 가능)] [정렬 옵션]; (1) 
```

|번호|키워드|필수 요소|선택요소|설명|
|----|-----|------|----|--------|
|(1)|ORDER BY|정렬하려는 열 이름을 하나 이상 지정|정렬하는 열마다 오름차순(ASC), 내림차순(DESC) 지정|ORDER BY절에 지정한 열은 먼저 지정한 열을 우선으로 정렬합니다. 만약 정렬 옵션을 지정하지 않을 경우 기본값으로 오름차순(ASC)이 설정됩니다.|

|내림차순을 뜻하는 desc는 descending의 약자이고, 오름차순을 뜻하는 asc는 ascending의 약자입니다.

### 실습
- 오름차순 사용하기

```
SELECT * FROM EMP ORDER BY SAL;
```

- 내림차순 사용하기

```
SELECT * FROM EMP ORDER BY DESC;
```

- 각각의 열에 내림차순과 오름차순 동시에 사용하기

```
SELECT * FROM EMP ORDER BY DEPTNO ASC, SAL DESC;
```

### ORDER BY절을 사용할 때 주의 사항
- ORDER BY절을 사용한 정렬은 꼭 필요한 경우가 아니면 사용하지 않는 것이 좋습니다. 여기저기 흩어져 있는 데이터를 특정 기준에 따라 가지런히 순서를 맞추는 것은 많은 자원, 즉 비용을 소모하기 때문입니다. 특정 기준에 따라 두 개 데이터를 정렬하는 시간보다 열 개 데이터를 정렬하는 데에 시간이 더 많이 필요합니다.
- ORDER BY절이 존재할 경우 SELECT문을 통해 조회할 데이터를 모두 확정한 상태에서 ORDER BY절의 명시된 기준에 따라 정렬합니다. 이때 데이터의 양 또는 정렬 방식에 따라 출력 데이터를 선정하는 시간보다 정렬하는 데 시간이 더 걸릴 수도 있습니다. 즉 정렬을 하지 않으면 결과를 더 빨리 출력할 수 있다는 이야기 입니다.
- SQL문의 효율이 낮아지는 것은 서비스 응답 시간이 느려진다는 것을 뜻합니다. 따라서 정렬이 꼭 필요한 경우가 아니라면 ORDER BY절을 넣지 않도록 주의하세요.

